(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{642:function(l,a,t){"use strict";t.r(a);var e=t(0),c=Object(e.a)({},(function(){var l=this,a=l.$createElement,t=l._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[t("h1",{attrs:{id:"integrating-interchain-accounts-into-a-chain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integrating-interchain-accounts-into-a-chain"}},[l._v("#")]),l._v(" Integrating Interchain Accounts into a Chain")]),l._v(" "),t("p",[l._v("Learn how to integrate Interchain Accounts host and controller functionality to your chain. The following document only applies for Cosmos SDK chains.")]),l._v(" "),t("p",[l._v("The Interchain Accounts module contains two submodules. Each submodule has its own IBC application. The Interchain Accounts module should be registered as an "),t("code",[l._v("AppModule")]),l._v(" in the same way all SDK modules are registered on a chain, but each submodule should create its own "),t("code",[l._v("IBCModule")]),l._v(" as necessary. A route should be added to the IBC router for each submodule which will be used.")]),l._v(" "),t("p",[l._v("Chains who wish to support ICS27 may elect to act as a host chain, a controller chain or both. Disabling host or controller functionality may be done statically by excluding the host or controller module entirely from the "),t("code",[l._v("app.go")]),l._v(" file or it may be done dynamically by taking advantage of the on-chain parameters which enable or disable the host or controller submodules.")]),l._v(" "),t("p",[l._v("Interchain Account authentication modules are the base application of a middleware stack. The controller submodule is the middleware in this stack.")]),l._v(" "),t("h3",{attrs:{id:"example-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-integration"}},[l._v("#")]),l._v(" Example integration")]),l._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwLmdvCgovLyBSZWdpc3RlciB0aGUgQXBwTW9kdWxlIGZvciB0aGUgSW50ZXJjaGFpbiBBY2NvdW50cyBtb2R1bGUgYW5kIHRoZSBhdXRoZW50aWNhdGlvbiBtb2R1bGUKLy8gTm90ZTogTm8gYGljYWF1dGhgIGV4aXN0cywgdGhpcyBtdXN0IGJlIHN1YnN0aXR1dGVkIHdpdGggYW4gYWN0dWFsIEludGVyY2hhaW4gQWNjb3VudHMgYXV0aGVudGljYXRpb24gbW9kdWxlCk1vZHVsZUJhc2ljcyA9IG1vZHVsZS5OZXdCYXNpY01hbmFnZXIoCiAgICAuLi4KICAgIGljYS5BcHBNb2R1bGVCYXNpY3t9LAogICAgaWNhYXV0aC5BcHBNb2R1bGVCYXNpY3t9LAogICAgLi4uCikKCi4uLiAKCi8vIEFkZCBtb2R1bGUgYWNjb3VudCBwZXJtaXNzaW9ucyBmb3IgdGhlIEludGVyY2hhaW4gQWNjb3VudHMgbW9kdWxlCi8vIE9ubHkgbmVjZXNzYXJ5IGZvciBob3N0IGNoYWluIGZ1bmN0aW9uYWxpdHkKLy8gRWFjaCBJbnRlcmNoYWluIEFjY291bnQgY3JlYXRlZCBvbiB0aGUgaG9zdCBjaGFpbiBpcyBkZXJpdmVkIGZyb20gdGhlIG1vZHVsZSBhY2NvdW50IGNyZWF0ZWQKbWFjY1Blcm1zID0gbWFwW3N0cmluZ11bXXN0cmluZ3sKICAgIC4uLgogICAgaWNhdHlwZXMuTW9kdWxlTmFtZTogICAgICAgICAgICBuaWwsCn0KCi4uLgoKLy8gQWRkIEludGVyY2hhaW4gQWNjb3VudHMgS2VlcGVycyBmb3IgZWFjaCBzdWJtb2R1bGUgdXNlZCBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQovLyBJZiBhIHN1Ym1vZHVsZSBpcyBiZWluZyBzdGF0aWNhbGx5IGRpc2FibGVkLCB0aGUgYXNzb2NpYXRlZCBLZWVwZXIgZG9lcyBub3QgbmVlZCB0byBiZSBhZGRlZC4gCnR5cGUgQXBwIHN0cnVjdCB7CiAgICAuLi4KCiAgICBJQ0FDb250cm9sbGVyS2VlcGVyIGljYWNvbnRyb2xsZXJrZWVwZXIuS2VlcGVyCiAgICBJQ0FIb3N0S2VlcGVyICAgICAgIGljYWhvc3RrZWVwZXIuS2VlcGVyCiAgICBJQ0FBdXRoS2VlcGVyICAgICAgIGljYWF1dGhrZWVwZXIuS2VlcGVyCgogICAgLi4uCn0KCi4uLgoKLy8gQ3JlYXRlIHN0b3JlIGtleXMgZm9yIGVhY2ggc3VibW9kdWxlIEtlZXBlciBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQprZXlzIDo9IHNkay5OZXdLVlN0b3JlS2V5cygKICAgIC4uLgogICAgaWNhY29udHJvbGxlcnR5cGVzLlN0b3JlS2V5LAogICAgaWNhaG9zdHR5cGVzLlN0b3JlS2V5LAogICAgaWNhYXV0aHR5cGVzLlN0b3JlS2V5LAogICAgLi4uCikKCi4uLiAKCi8vIENyZWF0ZSB0aGUgc2NvcGVkIGtlZXBlcnMgZm9yIGVhY2ggc3VibW9kdWxlIGtlZXBlciBhbmQgYXV0aGVudGljYXRpb24ga2VlcGVyCnNjb3BlZElDQUNvbnRyb2xsZXJLZWVwZXIgOj0gYXBwLkNhcGFiaWxpdHlLZWVwZXIuU2NvcGVUb01vZHVsZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSkKc2NvcGVkSUNBSG9zdEtlZXBlciA6PSBhcHAuQ2FwYWJpbGl0eUtlZXBlci5TY29wZVRvTW9kdWxlKGljYWhvc3R0eXBlcy5TdWJNb2R1bGVOYW1lKQpzY29wZWRJQ0FBdXRoS2VlcGVyIDo9IGFwcC5DYXBhYmlsaXR5S2VlcGVyLlNjb3BlVG9Nb2R1bGUoaWNhYXV0aHR5cGVzLk1vZHVsZU5hbWUpCgouLi4KCi8vIENyZWF0ZSB0aGUgS2VlcGVyIGZvciBlYWNoIHN1Ym1vZHVsZQphcHAuSUNBQ29udHJvbGxlcktlZXBlciA9IGljYWNvbnRyb2xsZXJrZWVwZXIuTmV3S2VlcGVyKAoJCWFwcENvZGVjLCBrZXlzW2ljYWNvbnRyb2xsZXJ0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSksCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAvLyBtYXkgYmUgcmVwbGFjZWQgd2l0aCBtaWRkbGV3YXJlIHN1Y2ggYXMgaWNzMjkgZmVlCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCQlhcHAuQWNjb3VudEtlZXBlciwgc2NvcGVkSUNBQ29udHJvbGxlcktlZXBlciwgYXBwLk1zZ1NlcnZpY2VSb3V0ZXIoKSwKKQphcHAuSUNBSG9zdEtlZXBlciA9IGljYWhvc3RrZWVwZXIuTmV3S2VlcGVyKAoJCWFwcENvZGVjLCBrZXlzW2ljYWhvc3R0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpY2Fob3N0dHlwZXMuU3ViTW9kdWxlTmFtZSksCgkJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKCQlhcHAuQWNjb3VudEtlZXBlciwgc2NvcGVkSUNBSG9zdEtlZXBlciwgYXBwLk1zZ1NlcnZpY2VSb3V0ZXIoKSwKKQoKLy8gQ3JlYXRlIEludGVyY2hhaW4gQWNjb3VudHMgQXBwTW9kdWxlCmljYU1vZHVsZSA6PSBpY2EuTmV3QXBwTW9kdWxlKCZhbXA7YXBwLklDQUNvbnRyb2xsZXJLZWVwZXIsICZhbXA7YXBwLklDQUhvc3RLZWVwZXIpCgovLyBDcmVhdGUgeW91ciBJbnRlcmNoYWluIEFjY291bnRzIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQphcHAuSUNBQXV0aEtlZXBlciA9IGljYWF1dGhrZWVwZXIuTmV3S2VlcGVyKGFwcENvZGVjLCBrZXlzW2ljYWF1dGh0eXBlcy5TdG9yZUtleV0sIGFwcC5JQ0FDb250cm9sbGVyS2VlcGVyLCBzY29wZWRJQ0FBdXRoS2VlcGVyKQoKLy8gSUNBIGF1dGggQXBwTW9kdWxlCmljYUF1dGhNb2R1bGUgOj0gaWNhYXV0aC5OZXdBcHBNb2R1bGUoYXBwQ29kZWMsIGFwcC5JQ0FBdXRoS2VlcGVyKQoKLy8gSUNBIGF1dGggSUJDIE1vZHVsZQpJQ0FBdXRoSUJDTW9kdWxlIDo9IGljYWF1dGguTmV3SUJDTW9kdWxlKGFwcC5JQ0FBdXRoS2VlcGVyKQoKLy8gQ3JlYXRlIGhvc3QgYW5kIGNvbnRyb2xsZXIgSUJDIE1vZHVsZXMgYXMgZGVzaXJlZAppY2FDb250cm9sbGVySUJDTW9kdWxlIDo9IGljYWNvbnRyb2xsZXIuTmV3SUJDTW9kdWxlKGFwcC5JQ0FDb250cm9sbGVyS2VlcGVyLCBpY2FBdXRoSUJDTW9kdWxlKQppY2FIb3N0SUJDTW9kdWxlIDo9IGljYWhvc3QuTmV3SUJDTW9kdWxlKGFwcC5JQ0FIb3N0S2VlcGVyKQoKLy8gUmVnaXN0ZXIgaG9zdCBhbmQgYXV0aGVudGljYXRpb24gcm91dGVzCmliY1JvdXRlci5BZGRSb3V0ZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSwgaWNhQ29udHJvbGxlcklCQ01vZHVsZSkuCgkJQWRkUm91dGUoaWNhaG9zdHR5cGVzLlN1Yk1vZHVsZU5hbWUsIGljYUhvc3RJQkNNb2R1bGUpLgoJCUFkZFJvdXRlKGljYWF1dGh0eXBlcy5Nb2R1bGVOYW1lLCBpY2FDb250cm9sbGVySUJDTW9kdWxlKSAvLyBOb3RlLCB0aGUgYXV0aGVudGljYXRpb24gbW9kdWxlIGlzIHJvdXRlZCB0byB0aGUgdG9wIGxldmVsIG9mIHRoZSBtaWRkbGV3YXJlIHN0YWNrCgouLi4KCi8vIFJlZ2lzdGVyIEludGVyY2hhaW4gQWNjb3VudHMgYW5kIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSBBcHBNb2R1bGUncwphcHAubW9kdWxlTWFuYWdlciA9IG1vZHVsZS5OZXdNYW5hZ2VyKAogICAgLi4uCiAgICBpY2FNb2R1bGUsCiAgICBpY2FBdXRoTW9kdWxlLAopCgouLi4KCi8vIEFkZCBJbnRlcmNoYWluIEFjY291bnRzIG1vZHVsZSBJbml0R2VuZXNpcyBsb2dpYwphcHAubW0uU2V0T3JkZXJJbml0R2VuZXNpcygKICAgIC4uLgogICAgaWNhdHlwZXMuTW9kdWxlTmFtZSwKICAgIC4uLgopCg=="}}),l._v(" "),t("h2",{attrs:{id:"parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameters"}},[l._v("#")]),l._v(" Parameters")]),l._v(" "),t("p",[l._v("The Interchain Accounts module contains the following on-chain parameters, logically separated for each distinct submodule:")]),l._v(" "),t("h3",{attrs:{id:"controller-submodule-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#controller-submodule-parameters"}},[l._v("#")]),l._v(" Controller Submodule Parameters")]),l._v(" "),t("table",[t("thead",[t("tr",[t("th",[l._v("Key")]),l._v(" "),t("th",[l._v("Type")]),l._v(" "),t("th",[l._v("Default Value")])])]),l._v(" "),t("tbody",[t("tr",[t("td",[t("code",[l._v("ControllerEnabled")])]),l._v(" "),t("td",[l._v("bool")]),l._v(" "),t("td",[t("code",[l._v("true")])])])])]),l._v(" "),t("h4",{attrs:{id:"controllerenabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#controllerenabled"}},[l._v("#")]),l._v(" ControllerEnabled")]),l._v(" "),t("p",[l._v("The "),t("code",[l._v("ControllerEnabled")]),l._v(" parameter controls a chains ability to service ICS-27 controller specific logic. This includes the sending of Interchain Accounts packet data as well as the following ICS-26 callback handlers:")]),l._v(" "),t("ul",[t("li",[t("code",[l._v("OnChanOpenInit")])]),l._v(" "),t("li",[t("code",[l._v("OnChanOpenAck")])]),l._v(" "),t("li",[t("code",[l._v("OnChanCloseConfirm")])]),l._v(" "),t("li",[t("code",[l._v("OnAcknowledgementPacket")])]),l._v(" "),t("li",[t("code",[l._v("OnTimeoutPacket")])])]),l._v(" "),t("h3",{attrs:{id:"host-submodule-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#host-submodule-parameters"}},[l._v("#")]),l._v(" Host Submodule Parameters")]),l._v(" "),t("table",[t("thead",[t("tr",[t("th",[l._v("Key")]),l._v(" "),t("th",[l._v("Type")]),l._v(" "),t("th",[l._v("Default Value")])])]),l._v(" "),t("tbody",[t("tr",[t("td",[t("code",[l._v("HostEnabled")])]),l._v(" "),t("td",[l._v("bool")]),l._v(" "),t("td",[t("code",[l._v("true")])])]),l._v(" "),t("tr",[t("td",[t("code",[l._v("AllowMessages")])]),l._v(" "),t("td",[l._v("[]string")]),l._v(" "),t("td",[t("code",[l._v("[]")])])])])]),l._v(" "),t("h4",{attrs:{id:"hostenabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hostenabled"}},[l._v("#")]),l._v(" HostEnabled")]),l._v(" "),t("p",[l._v("The "),t("code",[l._v("HostEnabled")]),l._v(" parameter controls a chains ability to service ICS27 host specific logic. This includes the following ICS-26 callback handlers:")]),l._v(" "),t("ul",[t("li",[t("code",[l._v("OnChanOpenTry")])]),l._v(" "),t("li",[t("code",[l._v("OnChanOpenConfirm")])]),l._v(" "),t("li",[t("code",[l._v("OnChanCloseConfirm")])]),l._v(" "),t("li",[t("code",[l._v("OnRecvPacket")])])]),l._v(" "),t("h4",{attrs:{id:"allowmessages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#allowmessages"}},[l._v("#")]),l._v(" AllowMessages")]),l._v(" "),t("p",[l._v("The "),t("code",[l._v("AllowMessages")]),l._v(" parameter provides the ability for a chain to limit the types of messages or transactions that it chooses to facilitate by defining an allowlist using the Protobuf message TypeURL format.")]),l._v(" "),t("p",[l._v("For example, a Cosmos SDK based chain that elects to provide hosted Interchain Accounts with the ability of governance voting and staking delegations will define its parameters as follows:")]),l._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"JnF1b3Q7cGFyYW1zJnF1b3Q7OiB7CiAgICAmcXVvdDtob3N0X2VuYWJsZWQmcXVvdDs6IHRydWUsCiAgICAmcXVvdDthbGxvd19tZXNzYWdlcyZxdW90OzogWyZxdW90Oy9jb3Ntb3Muc3Rha2luZy52MWJldGExLk1zZ0RlbGVnYXRlJnF1b3Q7LCAmcXVvdDsvY29zbW9zLmdvdi52MWJldGExLk1zZ1ZvdGUmcXVvdDtdCn0K"}})],1)}),[],!1,null,null,null);a.default=c.exports}}]);